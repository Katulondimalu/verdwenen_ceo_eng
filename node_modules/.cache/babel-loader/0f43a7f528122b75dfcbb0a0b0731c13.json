{"ast":null,"code":"var _jsxFileName = \"/Users/stichtinghelden/Documents/GitHub/de_verdwenen_ceo/src/pages/barcode/BarcodeScanner.js\",\n    _s = $RefreshSig$();\n\nimport { Button, Stack, TextField } from '@mui/material';\nimport { useCallback, useState } from 'react';\nimport BarcodeScannerComponent from 'react-qr-barcode-scanner';\nimport { BarcodeSubtext, ScannerBox } from '../../assets/styles/Barcode.style';\nimport { Whitespace } from '../../Elements';\nimport { useTranslation } from '../../languages.js';\nimport { useIsDevelopment } from '../../utils/use-is-development.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst BarcodeScanner = _ref => {\n  _s();\n\n  let {\n    codes,\n    onNext\n  } = _ref;\n  const t = useTranslation();\n  const is_dev = useIsDevelopment();\n  const [input, setInput] = useState(null);\n  const [stopStream, setStopStream] = useState(false);\n  const [error, setError] = useState(null);\n  let [recording, set_recording] = useState(false);\n  const handleOnChange = useCallback((err, result) => {\n    set_recording(true);\n\n    if (result) {\n      if (codes.includes(result.text)) {\n        onNext();\n      }\n    }\n\n    if (err) return;\n    return () => {\n      set_recording(false);\n      setInput(null);\n      setStopStream(false);\n      setError(null);\n    };\n  }, [codes, onNext]);\n\n  const onError = error => {\n    if (error.name === 'NotAllowedError') {\n      setError(t('Camera access denied'));\n      setStopStream(true);\n    } else {\n      if (is_dev) console.log(error);\n    }\n  };\n\n  const handleOnSubmit = () => {\n    if (input === null) setError(t('please enter bar code'));else if (!codes.includes(input)) setError(t('Wrong code'));else onNext();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ScannerBox, {\n      style: {\n        position: 'relative'\n      },\n      className: \"cool-border-thing\",\n      children: [/*#__PURE__*/_jsxDEV(BarcodeScannerComponent, {\n        width: 310,\n        height: 282,\n        onUpdate: handleOnChange,\n        onError: onError,\n        stopStream: stopStream\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), recording === false && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: 4,\n          left: 4,\n          bottom: 4,\n          right: 4,\n          backgroundColor: 'var(--button-color)',\n          color: 'white',\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: error === t('Camera access denied') ? t('Camera access denied') : t('Waiting for camera...')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          right: 0,\n          left: 0,\n          top: '100%',\n          backgroundColor: 'transparent'\n        },\n        children: /*#__PURE__*/_jsxDEV(BarcodeSubtext, {\n          children: t('Scan the right bar code or scan the number')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Whitespace, {\n      height: 55\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Stack, {\n      spacing: 2,\n      direction: \"row\",\n      sx: {\n        margin: '0 1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        id: \"standard-basic\",\n        label: t('Streepjescode invullen'),\n        variant: \"standard\",\n        margin: \"dense\",\n        name: \"team_name\",\n        required: true,\n        onChange: e => setInput(e.target.value),\n        fullWidth: true,\n        error: !!error,\n        helperText: error && error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        size: \"small\",\n        onClick: handleOnSubmit,\n        sx: {\n          width: '8rem',\n          height: '2rem',\n          marginTop: '1.6rem!important'\n        },\n        children: t('Submit')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(BarcodeScanner, \"VAFp4dbUbpmL6x0iZ/jeqp2MOQE=\", false, function () {\n  return [useTranslation, useIsDevelopment];\n});\n\n_c = BarcodeScanner;\nexport default BarcodeScanner;\n\nvar _c;\n\n$RefreshReg$(_c, \"BarcodeScanner\");","map":{"version":3,"names":["Button","Stack","TextField","useCallback","useState","BarcodeScannerComponent","BarcodeSubtext","ScannerBox","Whitespace","useTranslation","useIsDevelopment","BarcodeScanner","codes","onNext","t","is_dev","input","setInput","stopStream","setStopStream","error","setError","recording","set_recording","handleOnChange","err","result","includes","text","onError","name","console","log","handleOnSubmit","position","top","left","bottom","right","backgroundColor","color","display","justifyContent","alignItems","margin","e","target","value","width","height","marginTop"],"sources":["/Users/stichtinghelden/Documents/GitHub/de_verdwenen_ceo/src/pages/barcode/BarcodeScanner.js"],"sourcesContent":["import { Button, Stack, TextField } from '@mui/material';\nimport { useCallback, useState } from 'react';\nimport BarcodeScannerComponent from 'react-qr-barcode-scanner';\nimport { BarcodeSubtext, ScannerBox } from '../../assets/styles/Barcode.style';\nimport { Whitespace } from '../../Elements';\nimport { useTranslation } from '../../languages.js';\nimport { useIsDevelopment } from '../../utils/use-is-development.js';\n\nconst BarcodeScanner = ({ codes, onNext }) => {\n  const t = useTranslation();\n  const is_dev = useIsDevelopment();\n  const [input, setInput] = useState(null);\n  const [stopStream, setStopStream] = useState(false);\n  const [error, setError] = useState(null);\n  let [recording, set_recording] = useState(false);\n  const handleOnChange = useCallback(\n    (err, result) => {\n      set_recording(true);\n      if (result) {\n        if (codes.includes(result.text)) {\n          onNext();\n        }\n      }\n      if (err) return;\n      return () => {\n        set_recording(false);\n        setInput(null);\n        setStopStream(false);\n        setError(null);\n      };\n    },\n    [codes, onNext]\n  );\n\n  const onError = (error) => {\n    if (error.name === 'NotAllowedError') {\n      setError(t('Camera access denied'));\n      setStopStream(true);\n    } else {\n      if (is_dev) console.log(error);\n    }\n  };\n\n  const handleOnSubmit = () => {\n    if (input === null) setError(t('please enter bar code'));\n    else if (!codes.includes(input)) setError(t('Wrong code'));\n    else onNext();\n  };\n  return (\n    <>\n      <ScannerBox\n        style={{ position: 'relative' }}\n        className='cool-border-thing'\n      >\n        <BarcodeScannerComponent\n          width={310}\n          height={282}\n          onUpdate={handleOnChange}\n          onError={onError}\n          stopStream={stopStream}\n        />\n        {recording === false && (\n          <div\n            style={{\n              position: 'absolute',\n              top: 4,\n              left: 4,\n              bottom: 4,\n              right: 4,\n              backgroundColor: 'var(--button-color)',\n              color: 'white',\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n            }}\n          >\n            <div>\n              {error === t('Camera access denied')\n                ? t('Camera access denied')\n                : t('Waiting for camera...')}\n            </div>\n          </div>\n        )}\n        <div\n          style={{\n            position: 'absolute',\n            right: 0,\n            left: 0,\n            top: '100%',\n            backgroundColor: 'transparent',\n          }}\n        >\n          <BarcodeSubtext>\n            {t('Scan the right bar code or scan the number')}\n          </BarcodeSubtext>\n        </div>\n      </ScannerBox>\n      <Whitespace height={55} />\n      <Stack spacing={2} direction='row' sx={{ margin: '0 1rem' }}>\n        <TextField\n          id='standard-basic'\n          label={t('Streepjescode invullen')}\n          variant='standard'\n          margin='dense'\n          name='team_name'\n          required\n          onChange={(e) => setInput(e.target.value)}\n          fullWidth\n          error={!!error}\n          helperText={error && error}\n        />\n        <Button\n          variant='outlined'\n          size='small'\n          onClick={handleOnSubmit}\n          sx={{ width: '8rem', height: '2rem',marginTop: '1.6rem!important' }}\n        >\n          {t('Submit')}\n        </Button>\n      </Stack>\n    </>\n  );\n};\n\nexport default BarcodeScanner;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}