{"ast":null,"code":"\"use strict\";\n/*\n * Copyright 2013 ZXing authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar __values = this && this.__values || function (o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n}); // package com.google.zxing.pdf417.decoder;\n// import java.util.Formatter;\n\nvar Formatter_1 = require(\"../../util/Formatter\");\n\nvar BoundingBox_1 = require(\"./BoundingBox\");\n/**\n * @author Guenther Grau\n */\n\n\nvar DetectionResultColumn =\n/** @class */\nfunction () {\n  function DetectionResultColumn(boundingBox) {\n    this.boundingBox = new BoundingBox_1.default(boundingBox); // this.codewords = new Codeword[boundingBox.getMaxY() - boundingBox.getMinY() + 1];\n\n    this.codewords = new Array(boundingBox.getMaxY() - boundingBox.getMinY() + 1);\n  }\n  /*final*/\n\n\n  DetectionResultColumn.prototype.getCodewordNearby = function (imageRow) {\n    var codeword = this.getCodeword(imageRow);\n\n    if (codeword != null) {\n      return codeword;\n    }\n\n    for (var i = 1; i < DetectionResultColumn.MAX_NEARBY_DISTANCE; i++) {\n      var nearImageRow = this.imageRowToCodewordIndex(imageRow) - i;\n\n      if (nearImageRow >= 0) {\n        codeword = this.codewords[nearImageRow];\n\n        if (codeword != null) {\n          return codeword;\n        }\n      }\n\n      nearImageRow = this.imageRowToCodewordIndex(imageRow) + i;\n\n      if (nearImageRow < this.codewords.length) {\n        codeword = this.codewords[nearImageRow];\n\n        if (codeword != null) {\n          return codeword;\n        }\n      }\n    }\n\n    return null;\n  };\n  /*final int*/\n\n\n  DetectionResultColumn.prototype.imageRowToCodewordIndex = function (imageRow) {\n    return imageRow - this.boundingBox.getMinY();\n  };\n  /*final void*/\n\n\n  DetectionResultColumn.prototype.setCodeword = function (imageRow, codeword) {\n    this.codewords[this.imageRowToCodewordIndex(imageRow)] = codeword;\n  };\n  /*final*/\n\n\n  DetectionResultColumn.prototype.getCodeword = function (imageRow) {\n    return this.codewords[this.imageRowToCodewordIndex(imageRow)];\n  };\n  /*final*/\n\n\n  DetectionResultColumn.prototype.getBoundingBox = function () {\n    return this.boundingBox;\n  };\n  /*final*/\n\n\n  DetectionResultColumn.prototype.getCodewords = function () {\n    return this.codewords;\n  }; // @Override\n\n\n  DetectionResultColumn.prototype.toString = function () {\n    var e_1, _a;\n\n    var formatter = new Formatter_1.default();\n    var row = 0;\n\n    try {\n      for (var _b = __values(this.codewords), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var codeword = _c.value;\n\n        if (codeword == null) {\n          formatter.format('%3d:    |   %n', row++);\n          continue;\n        }\n\n        formatter.format('%3d: %3d|%3d%n', row++, codeword.getRowNumber(), codeword.getValue());\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n\n    return formatter.toString();\n  };\n\n  DetectionResultColumn.MAX_NEARBY_DISTANCE = 5;\n  return DetectionResultColumn;\n}();\n\nexports.default = DetectionResultColumn;","map":{"version":3,"sources":["../../../../src/core/pdf417/decoder/DetectionResultColumn.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\n/*\n * Copyright 2013 ZXing authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __values = (this && this.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// package com.google.zxing.pdf417.decoder;\n// import java.util.Formatter;\nvar Formatter_1 = require(\"../../util/Formatter\");\nvar BoundingBox_1 = require(\"./BoundingBox\");\n/**\n * @author Guenther Grau\n */\nvar DetectionResultColumn = /** @class */ (function () {\n    function DetectionResultColumn(boundingBox) {\n        this.boundingBox = new BoundingBox_1.default(boundingBox);\n        // this.codewords = new Codeword[boundingBox.getMaxY() - boundingBox.getMinY() + 1];\n        this.codewords = new Array(boundingBox.getMaxY() - boundingBox.getMinY() + 1);\n    }\n    /*final*/ DetectionResultColumn.prototype.getCodewordNearby = function (imageRow) {\n        var codeword = this.getCodeword(imageRow);\n        if (codeword != null) {\n            return codeword;\n        }\n        for (var i = 1; i < DetectionResultColumn.MAX_NEARBY_DISTANCE; i++) {\n            var nearImageRow = this.imageRowToCodewordIndex(imageRow) - i;\n            if (nearImageRow >= 0) {\n                codeword = this.codewords[nearImageRow];\n                if (codeword != null) {\n                    return codeword;\n                }\n            }\n            nearImageRow = this.imageRowToCodewordIndex(imageRow) + i;\n            if (nearImageRow < this.codewords.length) {\n                codeword = this.codewords[nearImageRow];\n                if (codeword != null) {\n                    return codeword;\n                }\n            }\n        }\n        return null;\n    };\n    /*final int*/ DetectionResultColumn.prototype.imageRowToCodewordIndex = function (imageRow) {\n        return imageRow - this.boundingBox.getMinY();\n    };\n    /*final void*/ DetectionResultColumn.prototype.setCodeword = function (imageRow, codeword) {\n        this.codewords[this.imageRowToCodewordIndex(imageRow)] = codeword;\n    };\n    /*final*/ DetectionResultColumn.prototype.getCodeword = function (imageRow) {\n        return this.codewords[this.imageRowToCodewordIndex(imageRow)];\n    };\n    /*final*/ DetectionResultColumn.prototype.getBoundingBox = function () {\n        return this.boundingBox;\n    };\n    /*final*/ DetectionResultColumn.prototype.getCodewords = function () {\n        return this.codewords;\n    };\n    // @Override\n    DetectionResultColumn.prototype.toString = function () {\n        var e_1, _a;\n        var formatter = new Formatter_1.default();\n        var row = 0;\n        try {\n            for (var _b = __values(this.codewords), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var codeword = _c.value;\n                if (codeword == null) {\n                    formatter.format('%3d:    |   %n', row++);\n                    continue;\n                }\n                formatter.format('%3d: %3d|%3d%n', row++, codeword.getRowNumber(), codeword.getValue());\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return formatter.toString();\n    };\n    DetectionResultColumn.MAX_NEARBY_DISTANCE = 5;\n    return DetectionResultColumn;\n}());\nexports.default = DetectionResultColumn;\n//# sourceMappingURL=DetectionResultColumn.js.map"]},"metadata":{},"sourceType":"script"}