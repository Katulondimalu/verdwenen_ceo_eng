{"ast":null,"code":"var _jsxFileName = \"/Users/stichtinghelden/Documents/GitHub/de_verdwenen_ceo/src/pages/GameView/index.js\",\n    _s = $RefreshSig$();\n\nimport { differenceInSeconds, format } from 'date-fns';\nimport { ref, update } from 'firebase/database';\nimport React, { useEffect } from 'react';\nimport { useNavigate, useParams, useSearchParams } from 'react-router-dom';\nimport Game1 from '../../components/games/Game1';\nimport Game2 from '../../components/games/Game2';\nimport Game3 from '../../components/games/Game3';\nimport Game4 from '../../components/games/Game4';\nimport Game5 from '../../components/games/Game5';\nimport Game6 from '../../components/games/Game6'; //import Game5 from '../../components/games/Game5';\n\nimport Instructions from '../../components/instructions';\nimport StartInstruction from '../../components/instructions/StartInstruction';\nimport PrevideoScreen from '../../components/PrevideoScreen';\nimport Stack from '../../components/stack/Stack';\nimport StepConnectPhones from '../../components/StepConnectPhones';\nimport StepSetTeamName from '../../components/StepSetTeamName';\nimport TimeThingy from '../../components/time/TimeThingly';\nimport Topbar from '../../components/topbar/Topbar';\nimport TopScore from '../../components/topscore/TopScore';\nimport { DEVELOPMENT_PARK_NAME, HOW_LONG_DO_WE_HAVE_IN_SECONDS } from '../../constant/StaticData';\nimport { IsOptimusMasterControllerPrimeContext, RoomContext } from '../../context/BaseContext';\nimport { Whitespace } from '../../Elements';\nimport { useTranslation } from '../../languages';\nimport { database, useFirebase } from '../../utils/firebase';\nimport { IsDevelopmentContext } from '../../utils/use-is-development';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst GameView = () => {\n  _s();\n\n  var _useFirebase, _room$step;\n\n  let navigate = useNavigate();\n  let [searchParams] = useSearchParams();\n  let is_optimus_master_controller_prime = searchParams.get('is_optimus_master_controller_prime') === '';\n  let {\n    id,\n    kist_naam\n  } = useParams();\n  let room_ref = ref(database, `rooms/${id}`); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  let room = (_useFirebase = useFirebase(room_ref)) !== null && _useFirebase !== void 0 ? _useFirebase : {};\n  let step = (_room$step = room === null || room === void 0 ? void 0 : room.step) !== null && _room$step !== void 0 ? _room$step : 0;\n  let t = useTranslation();\n  useEffect(() => {\n    document.body.scrollTop = 0;\n  }, [step]); //let date = useDate();\n\n  let date = new Date();\n  let finished_time = room === null || room === void 0 ? void 0 : room.finished_time;\n  let seconds_elapsed = differenceInSeconds(finished_time !== null && finished_time !== void 0 ? finished_time : date, room === null || room === void 0 ? void 0 : room.start_time);\n  let is_development = kist_naam === DEVELOPMENT_PARK_NAME && process.env.REACT_APP_MODE === 'development';\n\n  if (seconds_elapsed > HOW_LONG_DO_WE_HAVE_IN_SECONDS) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"height-height\",\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'stretch'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Whitespace, {\n        height: 32\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          paddingLeft: 32,\n          paddingRight: 32\n        },\n        children: t(\"Unfortunately, time is up. And you didn't manage to open the box this time. But see it as something good, you were together. Really together!\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Whitespace, {\n        height: 32\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          paddingLeft: 32,\n          paddingRight: 32\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            update(room_ref, {\n              timeout: 1\n            });\n            navigate('/');\n          },\n          children: t('Continue')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Stack, {\n    wrappers: [/*#__PURE__*/_jsxDEV(IsOptimusMasterControllerPrimeContext.Provider, {\n      value: is_optimus_master_controller_prime\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(RoomContext.Provider, {\n      value: room_ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(IsDevelopmentContext.Provider, {\n      value: is_development\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this)],\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"height-height\",\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'stretch'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Topbar, {\n        children: /*#__PURE__*/_jsxDEV(TimeThingy, {\n          room: room\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          display: 'flex',\n          flexDirection: 'column'\n        },\n        children: [step === 0 && /*#__PURE__*/_jsxDEV(StepSetTeamName, {\n          onNext: () => {\n            if (!is_optimus_master_controller_prime) {\n              window.alert(t('Only the gamemaster can control the game.'));\n              return;\n            }\n\n            update(room_ref, {\n              id: id,\n              kist_naam: kist_naam,\n              step: 1,\n              // Don't set the start time here!\n              // We only want to start the timer after the connect phones screen\n              // start_time: Date.now(),\n              timeout: 0,\n              date: format(date, 'dd-MM-yyyy')\n            });\n          },\n          RoomContext: RoomContext\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this), step === 1 && /*#__PURE__*/_jsxDEV(Instructions, {\n          onNext: () => {\n            if (!is_optimus_master_controller_prime) {\n              window.alert(t('Only the gamemaster can control the game.'));\n              return;\n            }\n\n            update(room_ref, {\n              step: 2,\n              start_time: Date.now()\n            });\n          },\n          IsOptimusMasterControllerPrimeContext: IsOptimusMasterControllerPrimeContext\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this), step === 2 && /*#__PURE__*/_jsxDEV(PrevideoScreen, {\n          onNext: () => {\n            if (!is_optimus_master_controller_prime) {\n              window.alert(t('Only the gamemaster can control the game.'));\n              return;\n            }\n\n            update(room_ref, {\n              step: 3\n            });\n          },\n          url: t('game1VideoUrl')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this), step === 3 && /*#__PURE__*/_jsxDEV(Game1, {\n          onNext: () => {\n            if (!is_optimus_master_controller_prime) {\n              window.alert(t('Only the gamemaster can control the game.'));\n              return;\n            }\n\n            update(room_ref, {\n              step: 4\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this), step === 4 && /*#__PURE__*/_jsxDEV(PrevideoScreen, {\n          onNext: () => {\n            if (!is_optimus_master_controller_prime) {\n              window.alert(t('Only the gamemaster can control the game.'));\n              return;\n            }\n\n            update(room_ref, {\n              step: 5\n            });\n          },\n          url: t('game2VideoUrl')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this), step === 5 && /*#__PURE__*/_jsxDEV(Game2, {\n          onNext: () => {\n            if (!is_optimus_master_controller_prime) {\n              window.alert(t('Only the gamemaster can control the game.'));\n              return;\n            }\n\n            update(room_ref, {\n              step: 6\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 15\n        }, this), step === 6 && /*#__PURE__*/_jsxDEV(PrevideoScreen, {\n          onNext: () => {\n            if (!is_optimus_master_controller_prime) {\n              window.alert(t('Only the gamemaster can control the game.'));\n              return;\n            }\n\n            update(room_ref, {\n              step: 7\n            });\n          },\n          url: t('game3VideoUrl')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 15\n        }, this), step === 7 && /*#__PURE__*/_jsxDEV(Game3, {\n          onNext: () => {\n            if (!is_optimus_master_controller_prime) {\n              window.alert(t('Only the gamemaster can control the game.'));\n              return;\n            }\n\n            update(room_ref, {\n              step: 8\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this), step === 8 && /*#__PURE__*/_jsxDEV(PrevideoScreen, {\n          onNext: () => {\n            if (!is_optimus_master_controller_prime) {\n              window.alert(t('Only the gamemaster can control the game.'));\n              return;\n            }\n\n            update(room_ref, {\n              step: 9\n            });\n          },\n          url: t('game4VideoUrl')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this), step === 9 && /*#__PURE__*/_jsxDEV(Game4, {\n          onNext: () => {\n            if (!is_optimus_master_controller_prime) {\n              window.alert(t('Only the gamemaster can control the game.'));\n              return;\n            }\n\n            update(room_ref, {\n              step: 10\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this), step === 10 && /*#__PURE__*/_jsxDEV(PrevideoScreen, {\n          onNext: () => {\n            if (!is_optimus_master_controller_prime) {\n              window.alert(t('Only the gamemaster can control the game.'));\n              return;\n            }\n\n            update(room_ref, {\n              step: 11\n            });\n          },\n          url: t('game5VideoUrl')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this), step === 11 && /*#__PURE__*/_jsxDEV(Game5, {\n          onNext: () => {\n            if (!is_optimus_master_controller_prime) {\n              window.alert(t('Only the gamemaster can control the game.'));\n              return;\n            }\n\n            update(room_ref, {\n              step: 12\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this), step === 12 && /*#__PURE__*/_jsxDEV(PrevideoScreen, {\n          onNext: () => {\n            if (!is_optimus_master_controller_prime) {\n              window.alert(t('Only the gamemaster can control the game.'));\n              return;\n            }\n\n            update(room_ref, {\n              step: 13\n            });\n          },\n          url: t('game6VideoUrl')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 13\n        }, this), step === 13 && /*#__PURE__*/_jsxDEV(Game6, {\n          onNext: () => {\n            if (!is_optimus_master_controller_prime) {\n              window.alert(t('Only the gamemaster can control the game.'));\n              return;\n            }\n\n            update(room_ref, {\n              step: 14\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this), step === 14 && /*#__PURE__*/_jsxDEV(PrevideoScreen, {\n          onNext: () => {\n            var _room$start_time, _room$hints_penalty;\n\n            if (!is_optimus_master_controller_prime) {\n              window.alert(t('Only the gamemaster can control the game.'));\n              return;\n            }\n\n            update(room_ref, {\n              step: 15,\n              finished_time: Date.now(),\n              total_time_spent_score: differenceInSeconds(Date.now(), (_room$start_time = room.start_time) !== null && _room$start_time !== void 0 ? _room$start_time : 0) + ((_room$hints_penalty = room.hints_penalty) !== null && _room$hints_penalty !== void 0 ? _room$hints_penalty : 0) * 60\n            });\n          },\n          url: t('gameeindeVideoUrl')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 13\n        }, this), step === 15 && /*#__PURE__*/_jsxDEV(TopScore, {\n          RoomContext: RoomContext,\n          to: \"../end/leader-board\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n};\n\n_s(GameView, \"FRCWStzZIO1Gc5JQp8B3lKlheWE=\", false, function () {\n  return [useNavigate, useSearchParams, useParams, useFirebase, useTranslation];\n});\n\n_c = GameView;\nexport default GameView;\n\nvar _c;\n\n$RefreshReg$(_c, \"GameView\");","map":{"version":3,"names":["differenceInSeconds","format","ref","update","React","useEffect","useNavigate","useParams","useSearchParams","Game1","Game2","Game3","Game4","Game5","Game6","Instructions","StartInstruction","PrevideoScreen","Stack","StepConnectPhones","StepSetTeamName","TimeThingy","Topbar","TopScore","DEVELOPMENT_PARK_NAME","HOW_LONG_DO_WE_HAVE_IN_SECONDS","IsOptimusMasterControllerPrimeContext","RoomContext","Whitespace","useTranslation","database","useFirebase","IsDevelopmentContext","GameView","navigate","searchParams","is_optimus_master_controller_prime","get","id","kist_naam","room_ref","room","step","t","document","body","scrollTop","date","Date","finished_time","seconds_elapsed","start_time","is_development","process","env","REACT_APP_MODE","display","flexDirection","alignItems","paddingLeft","paddingRight","timeout","flex","window","alert","now","total_time_spent_score","hints_penalty"],"sources":["/Users/stichtinghelden/Documents/GitHub/de_verdwenen_ceo/src/pages/GameView/index.js"],"sourcesContent":["import { differenceInSeconds, format } from 'date-fns';\nimport { ref, update } from 'firebase/database';\nimport React, { useEffect } from 'react';\nimport { useNavigate, useParams, useSearchParams } from 'react-router-dom';\nimport Game1 from '../../components/games/Game1';\nimport Game2 from '../../components/games/Game2';\nimport Game3 from '../../components/games/Game3';\nimport Game4 from '../../components/games/Game4';\nimport Game5 from '../../components/games/Game5';\nimport Game6 from '../../components/games/Game6';\n//import Game5 from '../../components/games/Game5';\nimport Instructions from '../../components/instructions';\nimport StartInstruction from '../../components/instructions/StartInstruction';\nimport PrevideoScreen from '../../components/PrevideoScreen';\nimport Stack from '../../components/stack/Stack';\nimport StepConnectPhones from '../../components/StepConnectPhones';\nimport StepSetTeamName from '../../components/StepSetTeamName';\nimport TimeThingy from '../../components/time/TimeThingly';\nimport Topbar from '../../components/topbar/Topbar';\nimport TopScore from '../../components/topscore/TopScore';\n\nimport {\n  DEVELOPMENT_PARK_NAME,\n  HOW_LONG_DO_WE_HAVE_IN_SECONDS,\n} from '../../constant/StaticData';\nimport {\n  IsOptimusMasterControllerPrimeContext,\n  RoomContext,\n} from '../../context/BaseContext';\nimport { Whitespace } from '../../Elements';\nimport { useTranslation } from '../../languages';\nimport { database, useFirebase } from '../../utils/firebase';\nimport { IsDevelopmentContext } from '../../utils/use-is-development';\n\nconst GameView = () => {\n  let navigate = useNavigate();\n  let [searchParams] = useSearchParams();\n  let is_optimus_master_controller_prime =\n    searchParams.get('is_optimus_master_controller_prime') === '';\n\n  let { id, kist_naam } = useParams();\n  let room_ref = ref(database, `rooms/${id}`);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  let room = useFirebase(room_ref) ?? {};\n\n  let step = room?.step ?? 0;\n\n  let t = useTranslation();\n\n  useEffect(() => {\n    document.body.scrollTop = 0;\n  }, [step]);\n\n  //let date = useDate();\n  let date = new Date();\n  let finished_time = room?.finished_time;\n  let seconds_elapsed = differenceInSeconds(\n    finished_time ?? date,\n    room?.start_time\n  );\n\n  let is_development =\n    kist_naam === DEVELOPMENT_PARK_NAME &&\n    process.env.REACT_APP_MODE === 'development';\n\n  if (seconds_elapsed > HOW_LONG_DO_WE_HAVE_IN_SECONDS) {\n    return (\n      <div\n        className='height-height'\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'stretch',\n        }}\n      >\n        <Whitespace height={32} />\n        <div style={{ paddingLeft: 32, paddingRight: 32 }}>\n          {t(\n            \"Unfortunately, time is up. And you didn't manage to open the box this time. But see it as something good, you were together. Really together!\"\n          )}\n        </div>\n        <Whitespace height={32} />\n        <div style={{ paddingLeft: 32, paddingRight: 32 }}>\n          <button\n            onClick={() => {\n              update(room_ref, { timeout: 1 });\n              navigate('/');\n            }}\n          >\n            {t('Continue')}\n          </button>\n        </div>\n      </div>\n    );\n  }\n  return (\n    <Stack\n      wrappers={[\n        <IsOptimusMasterControllerPrimeContext.Provider\n          value={is_optimus_master_controller_prime}\n        />,\n        <RoomContext.Provider value={room_ref} />,\n        <IsDevelopmentContext.Provider value={is_development} />,\n      ]}\n    >\n      <div\n        className='height-height'\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'stretch',\n        }}\n      >\n        <Topbar>\n          <TimeThingy room={room} />\n        </Topbar>\n        <div style={{ flex: 1, display: 'flex', flexDirection: 'column' }}>\n          {step === 0 && (\n            <StepSetTeamName\n              onNext={() => {\n                if (!is_optimus_master_controller_prime) {\n                  window.alert(t('Only the gamemaster can control the game.'));\n                  return;\n                }\n                update(room_ref, {\n                  id: id,\n                  kist_naam: kist_naam,\n                  step: 1,\n                  // Don't set the start time here!\n                  // We only want to start the timer after the connect phones screen\n                  // start_time: Date.now(),\n                  timeout: 0,\n                  date: format(date, 'dd-MM-yyyy'),\n                });\n              }}\n              RoomContext={RoomContext}\n            />\n          )}\n          {step === 1 && (\n            <Instructions\n              onNext={() => {\n                if (!is_optimus_master_controller_prime) {\n                  window.alert(t('Only the gamemaster can control the game.'));\n                  return;\n                }\n                update(room_ref, {\n                  step: 2,\n                                    start_time: Date.now(),\n                });\n              }}\n              IsOptimusMasterControllerPrimeContext={\n                IsOptimusMasterControllerPrimeContext\n              }\n            />\n          )}\n          {step === 2 && (\n            <PrevideoScreen\n              onNext={() => {\n                if (!is_optimus_master_controller_prime) {\n                  window.alert(t('Only the gamemaster can control the game.'));\n                  return;\n                }\n                update(room_ref, { step: 3 });\n              }}\n              url={t('game1VideoUrl')}\n            />\n          )}\n          {step === 3 && (\n            <Game1\n              onNext={() => {\n                if (!is_optimus_master_controller_prime) {\n                  window.alert(t('Only the gamemaster can control the game.'));\n                  return;\n                }\n                update(room_ref, { step: 4 });\n              }}\n            />\n          )}\n\n          {step === 4 && (\n            <PrevideoScreen\n              onNext={() => {\n                if (!is_optimus_master_controller_prime) {\n                  window.alert(t('Only the gamemaster can control the game.'));\n                  return;\n                }\n\n                update(room_ref, { step: 5 });\n              }}\n              url={t('game2VideoUrl')}\n            />\n            )}\n\n            {step === 5 && (\n              <Game2\n                onNext={() => {\n                  if (!is_optimus_master_controller_prime) {\n                    window.alert(t('Only the gamemaster can control the game.'));\n                    return;\n                  }\n                  update(room_ref, { step: 6 });\n                }}\n              />\n            )}\n  \n            {step === 6 && (\n              <PrevideoScreen\n                onNext={() => {\n                  if (!is_optimus_master_controller_prime) {\n                    window.alert(t('Only the gamemaster can control the game.'));\n                    return;\n                  }\n  \n                  update(room_ref, { step: 7 });\n                }}\n                url={t('game3VideoUrl')}\n              />\n          )}\n          {step === 7 && (\n            <Game3\n              onNext={() => {\n                if (!is_optimus_master_controller_prime) {\n                  window.alert(t('Only the gamemaster can control the game.'));\n                  return;\n                }\n                update(room_ref, { step: 8 });\n              }}\n            />\n          )}\n          {step === 8 && (\n            <PrevideoScreen\n              onNext={() => {\n                if (!is_optimus_master_controller_prime) {\n                  window.alert(t('Only the gamemaster can control the game.'));\n                  return;\n                }\n                update(room_ref, { step: 9 });\n              }}\n              url={t('game4VideoUrl')}\n            />\n          )}\n          {step === 9 && (\n            <Game4\n              onNext={() => {\n                if (!is_optimus_master_controller_prime) {\n                  window.alert(t('Only the gamemaster can control the game.'));\n                  return;\n                }\n                update(room_ref, { step: 10 });\n              }}\n            />\n          )}\n          {step === 10 && (\n            <PrevideoScreen\n              onNext={() => {\n                if (!is_optimus_master_controller_prime) {\n                  window.alert(t('Only the gamemaster can control the game.'));\n                  return;\n                }\n                update(room_ref, { step: 11 });\n              }}\n              url={t('game5VideoUrl')}\n            />\n          )}\n          {step === 11 && (\n            <Game5\n              onNext={() => {\n                if (!is_optimus_master_controller_prime) {\n                  window.alert(t('Only the gamemaster can control the game.'));\n                  return;\n                }\n                update(room_ref, { step: 12 });\n              }}\n            />\n          )}\n           {step === 12 && (\n            <PrevideoScreen\n              onNext={() => {\n                if (!is_optimus_master_controller_prime) {\n                  window.alert(t('Only the gamemaster can control the game.'));\n                  return;\n                }\n                update(room_ref, { step: 13 });\n              }}\n              url={t('game6VideoUrl')}\n            />\n          )}\n          {step === 13 && (\n            <Game6\n              onNext={() => {\n                if (!is_optimus_master_controller_prime) {\n                  window.alert(t('Only the gamemaster can control the game.'));\n                  return;\n                }\n                update(room_ref, { step: 14 });\n              }}\n            />\n          )}\n          {step === 14 && (\n            <PrevideoScreen\n              onNext={() => {\n                if (!is_optimus_master_controller_prime) {\n                  window.alert(t('Only the gamemaster can control the game.'));\n                  return;\n                }\n                update(room_ref, {\n                  step: 15,\n                  finished_time: Date.now(),\n                  total_time_spent_score:\n                    differenceInSeconds(Date.now(), room.start_time ?? 0) +\n                    (room.hints_penalty ?? 0) * 60,\n                });\n              }}\n              url={t('gameeindeVideoUrl')}\n            />\n          )}\n          {step === 15 && (\n            <TopScore RoomContext={RoomContext} to='../end/leader-board' />\n          )}\n        </div>\n      </div>\n    </Stack>\n  );\n};\n\nexport default GameView;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}