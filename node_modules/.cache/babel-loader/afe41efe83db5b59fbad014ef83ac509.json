{"ast":null,"code":"var _jsxFileName = \"/Users/stichtinghelden/Documents/GitHub/de_verdwenen_ceo/src/pages/dashboard/index.js\",\n    _s = $RefreshSig$();\n\nimport DownloadForOfflineIcon from '@mui/icons-material/DownloadForOffline';\nimport ExitToAppIcon from '@mui/icons-material/ExitToApp';\nimport { Button, CircularProgress, Stack, Typography } from '@mui/material';\nimport { format } from 'date-fns';\nimport { equalTo, orderByChild, query, ref } from 'firebase/database';\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { UserAuth } from '../../context/AuthContext';\nimport { Whitespace } from '../../Elements';\nimport { useTranslation } from '../../languages';\nimport { database, useFirebase } from '../../utils/firebase';\nimport { objectToArray, saveAsExcel } from '../../utils/helper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Index = () => {\n  _s();\n\n  const t = useTranslation('nl');\n  const navigate = useNavigate();\n  const {\n    logout\n  } = UserAuth();\n  const [loading, setloading] = useState(false);\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n      navigate('/de-kist/login');\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  const users = useFirebase(query(ref(database, `users`), orderByChild(`date`), equalTo(`${format(new Date(), 'dd-MM-yyyy')}`)));\n\n  const handleExport = () => {\n    if (users === undefined || users === null) return;\n    if (Object.keys(users).length === 0) return;\n    setloading(true);\n    const isExport = saveAsExcel(objectToArray(users));\n    return setloading(isExport);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Stack, {\n    direction: 'column',\n    sx: {\n      padding: '1rem'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      align: \"center\",\n      color: 'CaptionText',\n      children: t('Welcome to admin dashboard')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Whitespace, {\n      height: 36\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"p\",\n      align: \"center\",\n      color: 'CaptionText',\n      children: t('Click the button below to export gamers information')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Whitespace, {\n      height: 36\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Stack, {\n      direction: \"row\",\n      spacing: 2,\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"error\",\n        endIcon: /*#__PURE__*/_jsxDEV(ExitToAppIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 20\n        }, this),\n        onClick: handleLogout,\n        children: t('Logout')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"success\",\n        endIcon: !loading && /*#__PURE__*/_jsxDEV(DownloadForOfflineIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 32\n        }, this),\n        onClick: handleExport,\n        children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n          color: \"inherit\",\n          size: 25\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this) : t('Export')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Index, \"sg92f+8YlIWVQbNCM9t7gHHNl40=\", false, function () {\n  return [useTranslation, useNavigate, useFirebase];\n});\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"names":["DownloadForOfflineIcon","ExitToAppIcon","Button","CircularProgress","Stack","Typography","format","equalTo","orderByChild","query","ref","React","useState","useNavigate","UserAuth","Whitespace","useTranslation","database","useFirebase","objectToArray","saveAsExcel","Index","t","navigate","logout","loading","setloading","handleLogout","e","console","log","message","users","Date","handleExport","undefined","Object","keys","length","isExport","padding"],"sources":["/Users/stichtinghelden/Documents/GitHub/de_verdwenen_ceo/src/pages/dashboard/index.js"],"sourcesContent":["import DownloadForOfflineIcon from '@mui/icons-material/DownloadForOffline';\nimport ExitToAppIcon from '@mui/icons-material/ExitToApp';\nimport { Button, CircularProgress, Stack, Typography } from '@mui/material';\nimport { format } from 'date-fns';\nimport { equalTo, orderByChild, query, ref } from 'firebase/database';\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { UserAuth } from '../../context/AuthContext';\nimport { Whitespace } from '../../Elements';\nimport { useTranslation } from '../../languages';\nimport { database, useFirebase } from '../../utils/firebase';\nimport { objectToArray, saveAsExcel } from '../../utils/helper';\n\nconst Index = () => {\n  const t = useTranslation('nl');\n  const navigate = useNavigate();\n  const { logout } = UserAuth();\n  const [loading, setloading] = useState(false);\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n      navigate('/de-kist/login');\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  const users = useFirebase(\n    query(\n      ref(database, `users`),\n      orderByChild(`date`),\n      equalTo(`${format(new Date(), 'dd-MM-yyyy')}`)\n    )\n  );\n\n  const handleExport = () => {\n    if (users === undefined || users === null) return;\n    if (Object.keys(users).length === 0) return;\n    setloading(true);\n    const isExport = saveAsExcel(objectToArray(users));\n    return setloading(isExport);\n  };\n\n  return (\n    <Stack direction={'column'} sx={{ padding: '1rem' }}>\n      <Typography variant='h5' align='center' color={'CaptionText'}>\n        {t('Welcome to admin dashboard')}\n      </Typography>\n      <Whitespace height={36} />\n      <Typography variant='p' align='center' color={'CaptionText'}>\n        {t('Click the button below to export gamers information')}\n      </Typography>\n      <Whitespace height={36} />\n      <Stack direction='row' spacing={2}>\n        <Button\n          variant='contained'\n          color='error'\n          endIcon={<ExitToAppIcon />}\n          onClick={handleLogout}\n        >\n          {t('Logout')}\n        </Button>\n        <Button\n          variant='contained'\n          color='success'\n          endIcon={!loading && <DownloadForOfflineIcon />}\n          onClick={handleExport}\n        >\n          {loading ? (\n            <CircularProgress color='inherit' size={25} />\n          ) : (\n            t('Export')\n          )}\n        </Button>\n      </Stack>\n    </Stack>\n  );\n};\n\nexport default Index;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}